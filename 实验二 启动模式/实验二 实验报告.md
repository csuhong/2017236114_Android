1、singleTask模式：

Hello1的启动模式时singleTask：

![](https://github.com/csuhong/2017236114_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F%E6%88%AA%E5%9B%BE/%E5%9B%BE%E7%89%871.png)

Hello1是活动的主界面，运行程序后，Hello1创建了一个实例：

![](https://github.com/csuhong/2017236114_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F%E6%88%AA%E5%9B%BE/%E5%9B%BE%E7%89%872.png)

在Hello1界面点击Hello1按钮，日志结果如下：	Hello1活动未调用onCreate（）函数，还是原来的实例。Hello1先执行onPause（）进入暂停状态，后执行，onResume()和onPostResume()使其返回栈的栈顶并且处于运行状态。。

![](https://github.com/csuhong/2017236114_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F%E6%88%AA%E5%9B%BE/%E5%9B%BE%E7%89%873.png)

所以当活动模式是singleTask的时候，每次启动该活动时，系统会先再返回栈中检查是否存在该活动的实例，如果已经存在则直接使用该实例，并把这个活动之上的所有活动都出栈，如果不存在则会创建一个新的活动实例。

2、standard模式：

Hello2的启动模式是standard：

![](https://github.com/csuhong/2017236114_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F%E6%88%AA%E5%9B%BE/%E5%9B%BE%E7%89%874.png)

点击一次Hello2,日志结果如下：Hello1进入暂停状态，Hello2执行onCreate()创建了一个实例

![](https://github.com/csuhong/2017236114_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F%E6%88%AA%E5%9B%BE/%E5%9B%BE%E7%89%875.png)

在Hello2界面，点击一次Hello2，日志结果如下：Hello2执行onPause()后又执行onCreate()创建了一个实例，然后再执行onStart(), onResume(), onPostResume()来显示自己的界面。

![](https://github.com/csuhong/2017236114_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F%E6%88%AA%E5%9B%BE/%E5%9B%BE%E7%89%876.png)

此时的界面如下：

![](https://github.com/csuhong/2017236114_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F%E6%88%AA%E5%9B%BE/%E5%9B%BE%E7%89%877.png)



在此界面点击返回键，日志结果如下：Hello2执行onPause（）后又执行onStart（），onResume（），onPostResume（）来显示自己的界面，最后又执行onStop（）和onDestroy（）销毁实例。

![](https://github.com/csuhong/2017236114_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F%E6%88%AA%E5%9B%BE/%E5%9B%BE%E7%89%878.png)

此时的界面如下：

![](https://github.com/csuhong/2017236114_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F%E6%88%AA%E5%9B%BE/%E5%9B%BE%E7%89%879.png)

在此界面点击返回键，日志结果如下：Hello2执行onPause（）后，Hello1开始活动，Hello2活动执行onStop（）和onDestroy（）后被销毁。

![](https://github.com/csuhong/2017236114_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F%E6%88%AA%E5%9B%BE/%E5%9B%BE%E7%89%8710.png)

此时的界面如下：

![](https://github.com/csuhong/2017236114_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F%E6%88%AA%E5%9B%BE/%E5%9B%BE%E7%89%8711.png)

所以当活动的启动模式是standard时，系统不会在乎这个活动是否在栈中，每次启动都会创建该活动的一个新的实例。



3、singleTop模式：

将Hello3的启动模式改为是singleTop ：

![](https://github.com/csuhong/2017236114_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F%E6%88%AA%E5%9B%BE/%E5%9B%BE%E7%89%8713.png)

在Hello1界面点击Hello3后，日志结果如下：Hello1进入暂停状态，Hello3执行onCreate（），onStart（），onResume，onPostResume（）显示自己的界面。

![](https://github.com/csuhong/2017236114_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F%E6%88%AA%E5%9B%BE/%E5%9B%BE%E7%89%8714.png)

进入Hello3界面后，点击一次Hello3后日志结果如下：Hello3活动未调用onCreate（）函数，还是原来的实例，Hello3执行onPause（），onResume（），onPostResume（）返回栈的栈顶，并处在运行状态。

![](https://github.com/csuhong/2017236114_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F%E6%88%AA%E5%9B%BE/%E5%9B%BE%E7%89%8715.png)



在此时的界面再点击一次Hello2后，日志结果如下：Hello3活动停止，Hello2执行onCreate，onStart（），onResume（），onPostResume（）显示自己的界面。

![](https://github.com/csuhong/2017236114_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F%E6%88%AA%E5%9B%BE/%E5%9B%BE%E7%89%8716.png)

在Hello2界面点击返回键后日志结果如下：Hello2执行onPause（）后，Hello3执行onStart（）将活动变成可见，Hello2执行onStop（）和onDestroy（）后被销毁。

![](https://github.com/csuhong/2017236114_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F%E6%88%AA%E5%9B%BE/%E5%9B%BE%E7%89%8717.png)



所以当活动模式是singleTop处于栈顶时不创建实例对象，反之当不处于栈顶时就会创建新的实例对象。

